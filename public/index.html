<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Hello World</title>
</head>

<body>
<div class="num"><h1>Loading...</h1></div>
<button id="increase">Increase</button>

<script>
    const dom = document.querySelector('.num')
    const inc = document.getElementById('increase')
    let ws = new WebSocket('wss://aispawn.herokuapp.com/ws')
    // let ws = new WebSocket('ws://localhost:3000/ws')

    //update websocket
    const recieveNumber = ({data}) => {
        console.log(data)
        const {number} = JSON.parse(data)
        let template = `<h1>Num Presses: ${number}</h1>`;
        dom.innerHTML = template
    }
    ws.addEventListener('message', recieveNumber)

    //tell server
    const sendNum = () => {
        ws.send('Increase')
    }
    inc.addEventListener('click', sendNum)
</script>
</body>
</html>